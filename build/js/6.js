"use strict";(self.webpackChunkeasy_charts=self.webpackChunkeasy_charts||[]).push([[6],{6:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var i=a(154),s=a(203);const o={Default:["#00BBC9","#EC63AB","#AA8AE4","#83CE44","#ff8f25","#009EAA","#CA4F7F","#9C70C0","#6BAF3B"],OldDefault:["#7E6DA1","#C2CF30","#FF8900","#FE2600","#E3003F","#8E1E5F","#FE2AC2","#CCF030","#9900EC","#3A1AA8","#3932FE","#3276FF","#35B9F6","#42BC6A","#91E0CB"],Plain:["#B1EB68","#B1B9B5","#FFA16C","#9B64E7","#CEE113","#2F9CFA","#CA6877","#EC3D8C","#9CC66D","#C73640","#7D9532","#B064DC"],Android:["#33B5E5","#AA66CC","#99CC00","#FFBB33","#FF4444","#0099CC","#9933CC","#669900","#FF8800","#CC0000"],Soft:["#9ED8D2","#FFD478","#F16D9A","#A8D59D","#FDC180","#F05133","#EDED8A","#F6A0A5","#9F218B"],Simple:["#FF8181","#FFB081","#FFE081","#EFFF81","#BFFF81","#90FF81","#81FFA2","#81FFD1","#9681FF","#C281FF","#FF81DD"],Egypt:["#3A3E04","#784818","#FCFCA8","#C03C0C","#F0A830","#A8783C","#FCFCFC","#FCE460","#540C00","#C0C084","#3C303C","#1EA34A","#606C54","#F06048"],Olive:["#18240C","#3C6C18","#60A824","#90D824","#A8CC60","#789C60","#CCF030","#B4CCA8","#D8F078","#40190D","#E4F0CC"],Candid:["#AF5E14","#81400C","#E5785D","#FEBFBF","#A66363","#C7B752","#EFF1A7","#83ADB7","#528F98","#BCEDF5","#446B3D","#8BD96F","#E4FFB9"],Sulphide:["#594440","#0392A7","#FFC343","#E2492F","#007257","#B0BC4A","#2E5493","#7C2738","#FF538B","#A593A1","#EBBA86","#E2D9CA"],Lint:["#A8A878","#F0D89C","#60909C","#242418","#E49C30","#54483C","#306090","#C06C00","#C0C0C0","#847854","#6C3C00","#9C3C3C","#183C60","#FCCC00","#840000","#FCFCFC"]};function l(t="#ffffff",e=1){let a,i,s;if(3===(t=t.replace(/^#/,"")).length)a=parseInt(t[0]+t[0],16),i=parseInt(t[1]+t[1],16),s=parseInt(t[2]+t[2],16);else{if(6!==t.length)throw new Error("Invalid HEX color.");a=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16)}return`rgba(${a}, ${i}, ${s}, ${e=Math.min(1,Math.max(0,e))})`}class r extends i.FE{static id="sqrt";parse(t){return i.t1.LinearScale.prototype.parse.call(this,t)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=t>=0?t:0,this.max=e}buildTicks(){const t=[],e=Math.sqrt(this.min||0),a=Math.sqrt(this.max||1),i=(a-e)/5;for(let s=e;s<=a;s+=i)t.push({value:s*s});return t}configure(){super.configure(),this._start=Math.sqrt(this.min),this._range=Math.sqrt(this.max)-this._start}getPixelForValue(t){const e=(Math.sqrt(t)-this._start)/this._range;return this.getPixelForDecimal(e)}getValueForPixel(t){const e=this.getDecimalForPixel(t),a=this._start+e*this._range;return a*a}}const n=r,c=t=>Math.sign(t)*Math.log10(Math.abs(t)/constant+1),h=t=>Math.sign(t)*(Math.pow(10,Math.abs(t))-1)*constant;class p extends i.FE{parse(t,e){const a=super.parse(t,e);return c(a)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=c(t),this.max=c(e),this._startValue=this.min,this._valueRange=this.max-this.min}getPixelForValue(t){const e=(c(t)-this._startValue)/this._valueRange;return this.getPixelForDecimal(e)}getLabelForValue(t){return h(t).toLocaleString()}generateTickLabels(t){const e=Math.max(0,Math.ceil(-Math.log10(Math.min(...t.map(e=>Math.abs(e.value-(t[0]?.value||0))))||0)));t.forEach(t=>{t.label=parseFloat(h(t.value).toFixed(e)).toString()})}buildTicks(){const t=[],e=h(this.min),a=h(this.max),i=(a-e)/10;for(let s=e;s<=a;s+=i)t.push({value:s});return t}}p.id="symlog";const g=p;class u extends i.FE{static id="pow";constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this.power=t.power||2}parse(t,e){const a=i.t1.LinearScale.prototype.parse.call(this,t,e);return isFinite(a)?a:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isFinite(t)?t:0,this.max=isFinite(e)?e:0}buildTicks(){const t=[],e=Math.pow(this.min,1/this.power),a=Math.pow(this.max,1/this.power),i=(a-e)/5;for(let s=e;s<=a;s+=i)t.push({value:s**this.power});return this.min=t[0]?.value??this.min,this.max=t[t.length-1]?.value??this.max,t}configure(){super.configure(),this._startValue=Math.pow(this.min,1/this.power),this._valueRange=Math.pow(this.max,1/this.power)-this._startValue}getPixelForValue(t){const e=(Math.pow(t,1/this.power)-this._startValue)/this._valueRange;return this.getPixelForDecimal(e)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return(this._startValue+e*this._valueRange)**this.power}}const F=u,C={id:"customCanvasBackgroundColor",beforeDraw:(t,e,a)=>{const{ctx:i}=t;i.save(),i.globalCompositeOperation="destination-over",i.fillStyle=a.color?a.color:"#ffffff",i.fillRect(0,0,t.width,t.height),i.restore()}},f={id:"customPlotAreaBackgroundColor",beforeDraw:(t,e,a)=>{const{ctx:i}=t,s=t.chartArea;i.save(),i.fillStyle=a.color?a.color:"#ffffff",i.fillRect(s.left,s.top,s.right-s.left,s.bottom-s.top),i.restore()}};let m;function d(t,e){let a,r=e.chart_type,c=e.chart_data,h=e.chart_configuration,p=function(t,e){const a=function(t){return console.log("raw data",t),Array.from(new Set(Object.values(t).flat().map(t=>t.name))).sort()}(t),i=function(t,e,a){return Object.keys(t).map((i,s)=>({label:i,data:e.map(e=>t[i].find(t=>t.name===e)?.value||0),backgroundColor:a[s%a.length]}))}(t,a,o[e.graph.palette]),s={tickColor:e.axis.strokecolor,color:l(e.axis.strokecolor,e.axis.opacity)},r={maxTicksLimit:e.axis.ticks,padding:e.axis.padding,display:e.axis.showtext,color:e.label.strokecolor,font:{size:e.label.fontsize,family:e.label.fontfamily,weight:e.label.fontweight}};e.axis.fontsize,e.axis.fontfamily,e.axis.fontweight,console.log("responsive",e.graph.responsive);const n={responsive:!0===e.graph.responsive,resizeDelay:1e3,indexAxis:"Horizontal"===e.graph.orientation?"y":"x",categoryPercentage:1-parseFloat(e.scale.ordinality),layout:{padding:{top:e.margin.top,right:e.margin.right,bottom:e.margin.bottom,left:e.margin.left}},scales:{y:{type:"log"==e.scale.type?"logarithmic":e.scale.type,title:{display:!!e.meta.vlabel.length,text:[e.meta.vlabel,e.meta.vsublabel],font:{size:e.axis.fontsize,family:e.axis.fontfamily,weight:e.axis.fontweight}},ticks:{autoSkip:!1,maxTicksLimit:e.axis.ticks,major:{enabled:!0},...r},grid:s},x:{title:{display:!!e.meta.hlabel.length,text:[e.meta.hlabel,e.meta.hsublabel],font:{size:e.axis.fontsize,family:e.axis.fontfamily,weight:e.axis.fontweight}},ticks:{autoSkip:!1,maxTicksLimit:e.axis.ticks,major:{enabled:!0},minor:{font:{size:10,color:"#888"}},...r},grid:s}},plugins:{customCanvasBackgroundColor:{color:l(e.frame.bgcolor,e.graph.opacity)},customPlotAreaBackgroundColor:{color:l(e.graph.bgcolor,e.graph.opacity)},title:{display:!!e.meta.caption.length,text:e.meta.caption,font:{family:e.caption.fontfamily,size:e.caption.fontsize,weight:e.caption.weight},color:e.caption.strokecolor},subtitle:{display:!!e.meta.subcaption.length,text:e.meta.subcaption,font:{family:e.subCaption.fontfamily,size:e.subCaption.fontsize,weight:e.subCaption.weight},color:e.subCaption.strokecolor},tooltip:{enabled:1===e.tooltip.show,callbacks:{label:t=>{if(!e.label.precision)return;const a=t.raw%1==0?t.raw:Number(t.raw).toFixed(e.label.precision);return t.dataset.label+" : "+a}}},datalabels:{display:1===e.label.showlabel,color:e.label.strokecolor,font:{family:e.label.fontfamily},formatter:function(t,a){return e.label.precision&&t%1!=0&&(t=t.toFixed(e.label.precision)),e.label.prefix+t+e.label.suffix}},legend:{display:1===e.legend.showlegends,position:e.legend.position,labels:{boxWidth:e.legend.symbolsize,font:{family:e.legend.fontfamily,size:e.legend.fontsize,weight:e.legend.fontweight},color:e.legend.color}}}};return console.log("options",n),{labels:a,datasets:i,options:n}}(c,h);console.log(h),i.Ay.register(n),i.Ay.register(F),i.Ay.register(g),i.Ay.register(C),i.Ay.register(f),i.Ay.register(s.A),i.Ay.defaults.set("plugins.datalabels",{anchor:"center"}),m=new i.Ay(document.querySelector(t),{type:r.toLowerCase(),data:{labels:p.labels,datasets:p.datasets},options:p.options,plugins:p.plugins}),window.addEventListener("resize",()=>{clearTimeout(a),a=setTimeout(()=>{m.resize()},2500)})}}}]);
//# sourceMappingURL=6.js.map